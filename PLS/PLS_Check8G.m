clc,clear
gen_data = [...
25     80      10440           213.00       350            2.00          4             2           -5          150                4                50             75
60    250       9000           585.62       400            2.00          5             3           +8          170                5                80            120
75    300       8730           684.74      1100            2.00          5             4           +8          500                5               100            150
20     60      11900           252.00      0.02            2.00          1             1           -6            0                0                80            120
25     80      10440           213.00       350            2.00          4             2           -5          150                4                50             75
60    250       9000           585.62       400            2.00          5             3           +8          170                5                80            120
75    300       8730           684.74      1100            2.00          5             4           +8          500                5               100            150
20     60      11900           252.00      0.02            2.00          1             1           -6            0                0                80            120
];



h=gen_data(:,3:5)/1000;
C=gen_data(:,6)';
plower=gen_data(:,1)';
pupper=gen_data(:,2)';

pd=[900;1060;1200;1080;800;560;580;1000;900;1060;1200;1080;800;560;580;1000;900;1060;1200;1080;800;560;580;1000];
n=length(plower);
unitstates=false*ones(24,n);
for i=1:24
[p,cost]=PLS(h,C,plower,pupper,pd(i));
for j=1:n
if sum(p(1:j,2))>pd(i) | sum(p(1:j,3))>pd(i)
unitstates(i,p(1:j,7))=true;
end
end
end
for i=1:24
unitstates(i,:)'
pause(1);
end